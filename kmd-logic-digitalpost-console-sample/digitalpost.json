{"swagger":"2.0","info":{"version":"1.0.0","title":"KMD Logic Digital Post Service API"},"paths":{"/subscriptions/{subscriptionId}/digital-post/messages":{"post":{"tags":["DigitalPost"],"summary":"Sends a single text message to a citizen/company.","operationId":"SendSingleMessage","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["application/json","text/json"],"parameters":[{"name":"subscriptionId","in":"path","description":"Id of LoGIC subscription","required":true,"type":"string","format":"uuid"},{"name":"request","in":"body","description":"Request body","required":false,"schema":{"$ref":"#/definitions/SendMessageRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SendMessageResponse"}},"401":{"description":"Unauthorized"}},"security":[{"Bearer":[]}]}},"/subscriptions/{subscriptionId}/digital-post/documents":{"post":{"tags":["DigitalPost"],"summary":"Sends a single document to a citizen/company.","operationId":"SendSingleDocument","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["application/json","text/json"],"parameters":[{"name":"subscriptionId","in":"path","description":"Id of LoGIC subscription","required":true,"type":"string","format":"uuid"},{"name":"request","in":"body","description":"Request body","required":false,"schema":{"$ref":"#/definitions/SendDocumentRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SendMessageResponse"}},"401":{"description":"Unauthorized"}},"security":[{"Bearer":[]}]}},"/subscriptions/{subscriptionId}/digital-post/attachments":{"post":{"tags":["DigitalPost"],"summary":"Uploads a single file that could be add as an attachment to the message later.","operationId":"UploadAttachment","consumes":["multipart/form-data"],"produces":["application/json","text/json"],"parameters":[{"name":"subscriptionId","in":"path","description":"Id of LoGIC subscription","required":true,"type":"string","format":"uuid"},{"name":"attachment","in":"formData","description":"File added to message","required":true,"type":"file"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/UploadAttachmentResponse"}},"401":{"description":"Unauthorized"}},"security":[{"Bearer":[]}]}}},"definitions":{"SendMessageRequest":{"description":"Single text message request","type":"object","properties":{"message":{"description":"Message content","type":"string"},"systemId":{"format":"int32","description":"Eboks system identifier","type":"integer"},"identifierType":{"$ref":"#/definitions/IdentifierType","description":"Type of identifier - CPR for a citizen, CVR for a company"},"identifier":{"description":"Identifier value (CPR/CVR)","type":"string"},"materialId":{"format":"int32","description":"Id of the material defined in eBoks","type":"integer"},"title":{"description":"Title of the message","type":"string"},"metadata":{"description":"Message metadata","type":"string"},"attachments":{"description":"Array of attachments - max 10 (9 if metadata exist)","uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/MessageAttachment"}}}},"IdentifierType":{"enum":["cpr","cvr"],"type":"string"},"MessageAttachment":{"type":"object","properties":{"referenceId":{"format":"uuid","description":"Identifier of the uploaded file","type":"string"},"fileName":{"description":"Name of the file","type":"string"}}},"SendMessageResponse":{"type":"object","properties":{"messageId":{"type":"string"}}},"SendDocumentRequest":{"type":"object","properties":{"contentReferenceId":{"format":"uuid","description":"Identifier of the uploaded file to be put as message content","type":"string"},"contentExtension":{"description":"Extension of the content file (pdf, txt, doc, etc)","type":"string"},"systemId":{"format":"int32","description":"Eboks system identifier","type":"integer"},"identifierType":{"$ref":"#/definitions/IdentifierType","description":"Type of identifier - CPR for a citizen, CVR for a company"},"identifier":{"description":"Identifier value (CPR/CVR)","type":"string"},"materialId":{"format":"int32","description":"Id of the material defined in eBoks","type":"integer"},"title":{"description":"Title of the message","type":"string"},"metadata":{"description":"Message metadata","type":"string"},"attachments":{"description":"Array of attachments - max 10 (9 if metadata exist)","uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/MessageAttachment"}}}},"IFormFile":{"type":"object","properties":{"contentType":{"type":"string"},"contentDisposition":{"type":"string"},"headers":{"type":"object","additionalProperties":{"uniqueItems":false,"type":"array","items":{"type":"string"}}},"length":{"format":"int64","type":"integer"},"name":{"type":"string"},"fileName":{"type":"string"}}},"UploadAttachmentResponse":{"type":"object","properties":{"referenceId":{"format":"uuid","type":"string"}}}},"securityDefinitions":{"Bearer":{"name":"Authorization","in":"header","type":"apiKey","description":"Standard Authorization header using the Bearer scheme. <b>Example: \"bearer {token}\".</b> You can obtain that value from your browser Developer tools"}},"tags":[]}